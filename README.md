# æ ªå¼åˆ†æã‚¦ã‚§ãƒ–ã‚¢ãƒ—ãƒª

æ ªã®åˆ†æã¨Twitterã¸ã®æŠ•ç¨¿æ©Ÿèƒ½ã‚’å‚™ãˆãŸã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚

## ç‰¹å¾´

- æ ªä¾¡ãƒ‡ãƒ¼ã‚¿ã®å–å¾—(yfinance,openbb)
- æ ªä¾¡ãƒ‡ãƒ¼ã‚¿ã®ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«åˆ†æ(Ta-Lib)
- æ ªä¾¡ãƒ‡ãƒ¼ã‚¿ã®æ©Ÿæ¢°å­¦ç¿’ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ é–‹ç™º(scikit-learn, scipy)
- æ ªä¾¡ãƒ‡ãƒ¼ã‚¿ã®é‡‘èçµ±è¨ˆè§£æ(financepy)
- åˆ†æçµæœã®è¡¨ç¤º(matplitlib, seabron)
- é«˜é€Ÿãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆ(vectortb)
- dockerä¸Šã§ã®ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆã¨ãƒˆãƒ¬ãƒ¼ãƒ‰(lean)
- Twitter APIã‚’ä½¿ã£ãŸåˆ†æçµæœã®è‡ªå‹•æŠ•ç¨¿(tweepy, twitter)
- leanä¸Šã§ã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ é–‹ç™ºã‚’æŸ”è»Ÿã«å®Ÿæ–½ã™ã‚‹ãŸã‚ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒª

## ç¾åœ¨ã®ä½œæ¥­çŠ¶æ³

ä»¥ä¸‹ã®æ©Ÿèƒ½ã‚’å®Ÿè£…ã—ã¾ã—ãŸï¼š

1. **ãƒ‡ãƒ¼ã‚¿å–å¾—ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«**
   - vectorbtã¨yfinanceã‚’ä½¿ç”¨ã—ãŸæ ªä¾¡ãƒ‡ãƒ¼ã‚¿ã®å–å¾—
   - è¤‡æ•°ã®éŠ˜æŸ„ï¼ˆæ—¥æœ¬æ ªã€ç±³å›½æ ªã€ãƒ“ãƒƒãƒˆã‚³ã‚¤ãƒ³ï¼‰ã«å¯¾å¿œ
   - å–å¾—ã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’CSVã¨ã—ã¦ä¿å­˜
   - 30åˆ†ä»¥å†…ã®å†å®Ÿè¡Œæ™‚ã«ã¯ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ç”¨ï¼ˆåŠ¹ç‡åŒ–ï¼‰
   - ä¼šç¤¾åæƒ…å ±ã®å–å¾—ã¨è¡¨ç¤º
   - ãƒ‡ãƒ¼ã‚¿å–å¾—å¤±æ•—æ™‚ã®TODOãƒªã‚¹ãƒˆè‡ªå‹•ç”Ÿæˆ

2. **ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«åˆ†æãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«**
   - vectorbtã‚’é€šã˜ã¦talibã‚’ä½¿ç”¨ã—ãŸå„ç¨®ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«æŒ‡æ¨™ã®è¨ˆç®—
   - SMAã€EMAã€RSIã€MACDã€ãƒœãƒªãƒ³ã‚¸ãƒ£ãƒ¼ãƒãƒ³ãƒ‰ãªã©ã®æŒ‡æ¨™ã‚’ã‚µãƒãƒ¼ãƒˆ
   - è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã«ã‚ˆã‚‹æŒ‡æ¨™ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

3. **å¯è¦–åŒ–ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«**
   - æ ªä¾¡ã¨ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«æŒ‡æ¨™ã®å¯è¦–åŒ–
   - è¤‡æ•°ã®æŒ‡æ¨™ã‚’å«ã‚€ç·åˆãƒãƒ£ãƒ¼ãƒˆã®ç”Ÿæˆ
   - çµæœã‚’PNGå½¢å¼ã§ä¿å­˜

4. **è¨­å®šã‚·ã‚¹ãƒ†ãƒ **
   - YAMLã¾ãŸã¯JSONã«ã‚ˆã‚‹åˆ†æè¨­å®š
   - éŠ˜æŸ„ã€æœŸé–“ã€é–“éš”ã€æŒ‡æ¨™ãªã©ã®è¨­å®šãŒå¯èƒ½
   - å¯è¦–åŒ–è¨­å®šã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

## å½“é¢ã®ç›®æ¨™

1. **åˆ†ææ©Ÿèƒ½ã®æ‹¡å……**
   - ã‚ˆã‚Šå¤šãã®ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«æŒ‡æ¨™ã®è¿½åŠ 
   - ãƒ•ã‚¡ãƒ³ãƒ€ãƒ¡ãƒ³ã‚¿ãƒ«åˆ†æã®å¼·åŒ–
   - ãƒ‘ã‚¿ãƒ¼ãƒ³èªè­˜æ©Ÿèƒ½ã®å®Ÿè£…

2. **æ©Ÿæ¢°å­¦ç¿’çµ±åˆ**
   - äºˆæ¸¬ãƒ¢ãƒ‡ãƒ«ã¨ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«åˆ†æã®çµ±åˆ
   - ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆçµæœã®æ©Ÿæ¢°å­¦ç¿’ã«ã‚ˆã‚‹æœ€é©åŒ–
   - ç•°å¸¸æ¤œå‡ºã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®å®Ÿè£…

3. **ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹æ”¹å–„**
   - Streamlitã‚’ä½¿ç”¨ã—ãŸã‚¦ã‚§ãƒ–ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®é–‹ç™º
   - ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªåˆ†æãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
   - ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½ãªãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ

4. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–**
   - å¤§é‡ãƒ‡ãƒ¼ã‚¿å‡¦ç†ã®åŠ¹ç‡åŒ–
   - ä¸¦åˆ—å‡¦ç†ã«ã‚ˆã‚‹ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆé«˜é€ŸåŒ–
   - ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã®æœ€é©åŒ–
   - ãƒ‡ãƒ¼ã‚¿ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«ã‚ˆã‚‹é‡è¤‡å–å¾—ã®é˜²æ­¢ï¼ˆ30åˆ†ä»¥å†…ï¼‰

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ

```
FinanceAnalysisPy/
â”œâ”€â”€ config/                 # è¨­å®šãƒ•ã‚¡ã‚¤ãƒ« (ä¾‹: analysis_config.yaml)
â”œâ”€â”€ credentials/            # èªè¨¼æƒ…å ± (ä¾‹: twitter_config.json)
â”œâ”€â”€ lib/                    # å¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒª (ta-lib)
â”œâ”€â”€ output/                 # ãƒ‡ãƒ¼ã‚¿ä¿å­˜ã€åˆ†æçµæœ
â”œâ”€â”€ projects/               # ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆ/ãƒˆãƒ¬ãƒ¼ãƒ‰ã®Dockerãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ
â”œâ”€â”€ scripts/                # å®Ÿè¡Œã‚¹ã‚¯ãƒªãƒ—ãƒˆ (ä¾‹: run_analysis.py)
â”œâ”€â”€ src/                    # ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰
â”œâ”€â”€ pyproject.toml          # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®š (uv/Poetry)
â”œâ”€â”€ README.md               # ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«
â””â”€â”€ requirements.txt        # ä¾å­˜é–¢ä¿‚ (pip)
```

### æ–°è¦è¿½åŠ ãƒ•ã‚¡ã‚¤ãƒ«

- **config/analysis_config.yaml**: åˆ†æè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
- **src/data/data_fetcher.py**: ãƒ‡ãƒ¼ã‚¿å–å¾—ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«
- **src/analysis/technical_indicators.py**: ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«åˆ†æãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«
- **src/visualization/visualizer.py**: å¯è¦–åŒ–ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«
- **scripts/run_analysis.py**: åˆ†æå®Ÿè¡Œã‚¹ã‚¯ãƒªãƒ—ãƒˆ

## ä½¿ç”¨æ–¹æ³•

### ç’°å¢ƒè¨­å®š

```bash
# ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
uv sync
```

> ğŸ’¡ **Windows + uv ã®æ³¨æ„:** PowerShell ã§ `uv` ã‚’åˆ©ç”¨ã™ã‚‹éš›ã« `.venv\lib64` ã«å¯¾ã™ã‚‹ã‚¢ã‚¯ã‚»ã‚¹æ‹’å¦ã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹å ´åˆã¯ã€
> `set UV_LINK_MODE=copy` ã‚’å®Ÿè¡Œã—ã¦ã‹ã‚‰ `uv sync` ã‚„ `uv run` ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚ãƒªãƒã‚¸ãƒˆãƒªã«ã¯ã“ã®è¨­å®šã‚’è‡ªå‹•ã§è¡Œã†
> `scripts/run_streamlit_uv.ps1` ã‚‚ç”¨æ„ã—ã¦ã„ã¾ã™ã€‚

### åˆ†æå®Ÿè¡Œ

```bash
# ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®šã§å®Ÿè¡Œ
python scripts/run_analysis.py

# ã‚«ã‚¹ã‚¿ãƒ è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®š
python scripts/run_analysis.py --config path/to/config.yaml

# vectorbtã‚’ä½¿ç”¨
python scripts/run_analysis.py --use-vectorbt

# å‡ºåŠ›ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’æŒ‡å®š
python scripts/run_analysis.py --output-dir path/to/output
```

```powershell
# Streamlit UI ã‚’ uv ãƒ™ãƒ¼ã‚¹ã§èµ·å‹• (Windows æ¨å¥¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆ)
pwsh -File scripts/run_streamlit_uv.ps1
```

### è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ä¾‹

```yaml
# Data Sources
data:
  symbols:
    - AAPL     # Apple Inc.
    - MSFT     # Microsoft Corporation
    - 7203.T   # Toyota Motor Corporation (Japan)
    - 9984.T   # SoftBank Group Corp. (Japan)
    - BTC-USD  # Bitcoin
  period: 1y
  interval: 1d

# Technical Indicators
indicators:
  - name: SMA
    params:
      length: 20
    plot: true
  
  - name: RSI
    params:
      length: 14
    plot: true

# Visualization settings
visualization:
  output_dir: "output/images"
  style: "seaborn"
  figsize: [12, 8]
  dpi: 300
  show_plots: false
```

## é–‹ç™ºæ–¹é‡

1. **ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ€§**
   - å„æ©Ÿèƒ½ã¯ç‹¬ç«‹ã—ãŸãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¨ã—ã¦å®Ÿè£…
   - ä¾å­˜é–¢ä¿‚ã®æœ€å°åŒ–
   - å†åˆ©ç”¨æ€§ã®é‡è¦–

2. **ãƒ†ã‚¹ãƒˆã¨å“è³ª**
   - ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã®å……å®Ÿ
   - ç¶™ç¶šçš„ã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
   - ã‚³ãƒ¼ãƒ‰å“è³ªã®ç¶­æŒ

3. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**
   - åŠ¹ç‡çš„ãªãƒ‡ãƒ¼ã‚¿å‡¦ç†
   - ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®æ´»ç”¨
   - éåŒæœŸå‡¦ç†ã®å°å…¥

4. **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£**
   - APIã‚­ãƒ¼ã®å®‰å…¨ãªç®¡ç†
   - ãƒ‡ãƒ¼ã‚¿ã®æš—å·åŒ–
   - ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ã®å®Ÿè£…
